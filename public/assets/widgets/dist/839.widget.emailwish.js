"use strict";(self.webpackChunkemailwish_widgets=self.webpackChunkemailwish_widgets||[]).push([[839],{2318:function(e,t,o){var f=o(7462),h=o(5987),g=o(7294),r=o(5697),m=o(6010),r=o(2543),b=o(3871),v={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p"},o=g.forwardRef(function(e,t){var o=e.align,r=void 0===o?"inherit":o,n=e.classes,i=e.className,u=e.color,a=void 0===u?"initial":u,s=e.component,l=e.display,d=void 0===l?"initial":l,p=e.gutterBottom,c=void 0!==p&&p,o=e.noWrap,u=void 0!==o&&o,l=e.paragraph,p=void 0!==l&&l,o=e.variant,l=void 0===o?"body1":o,o=e.variantMapping,o=void 0===o?v:o,e=(0,h.Z)(e,["align","classes","className","color","component","display","gutterBottom","noWrap","paragraph","variant","variantMapping"]),o=s||(p?"p":o[l]||v[l])||"span";return g.createElement(o,(0,f.Z)({className:(0,m.default)(n.root,i,"inherit"!==l&&n[l],"initial"!==a&&n["color".concat((0,b.Z)(a))],u&&n.noWrap,c&&n.gutterBottom,p&&n.paragraph,"inherit"!==r&&n["align".concat((0,b.Z)(r))],"initial"!==d&&n["display".concat((0,b.Z)(d))]),ref:t},e))});t.Z=(0,r.Z)(function(e){return{root:{margin:0},body2:e.typography.body2,body1:e.typography.body1,caption:e.typography.caption,button:e.typography.button,h1:e.typography.h1,h2:e.typography.h2,h3:e.typography.h3,h4:e.typography.h4,h5:e.typography.h5,h6:e.typography.h6,subtitle1:e.typography.subtitle1,subtitle2:e.typography.subtitle2,overline:e.typography.overline,srOnly:{position:"absolute",height:1,width:1,overflow:"hidden"},alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right"},alignJustify:{textAlign:"justify"},noWrap:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},gutterBottom:{marginBottom:"0.35em"},paragraph:{marginBottom:16},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorTextPrimary:{color:e.palette.text.primary},colorTextSecondary:{color:e.palette.text.secondary},colorError:{color:e.palette.error.main},displayInline:{display:"inline"},displayBlock:{display:"block"}}},{name:"MuiTypography"})(o)},9700:function(e,t,o){o=(0,o(7850).Z)();t.Z=o},2543:function(e,t,o){var r=o(7462),n=o(8920),i=o(9700);t.Z=function(e,t){return(0,n.Z)(e,(0,r.Z)({defaultTheme:i.Z},t))}},3871:function(e,t,o){o.d(t,{Z:function(){return n}});var r=o(288);function n(e){if("string"!=typeof e)throw new Error((0,r.Z)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},8839:function(e,t,o){o.r(t),o.d(t,{AppDispatchContext:function(){return X},AppFunctionContext:function(){return Y},AppStateContext:function(){return V},appReducer:function(){return Q},default:function(){return h}});var r,n,y=o(5893),C=o(7294),_=o(5343),i=o(9168),t=o(9669),u=o.n(t),t=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=function(){return(a=Object.assign||function(e){for(var t,o=1,r=arguments.length;o<r;o++)for(var n in t=arguments[o])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},s=function(e,u,a,s){return new(a=a||Promise)(function(o,t){function r(e){try{i(s.next(e))}catch(e){t(e)}}function n(e){try{i(s.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?o(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(r,n)}i((s=s.apply(e,u||[])).next())})},l=function(o,r){var n,i,u,a={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(u=2&t[0]?i.return:t[0]?i.throw||((u=i.return)&&u.call(i),0):i.next)&&!(u=u.call(i,t[1])).done)return u;switch(i=0,(t=u?[2&t[0],u.value]:t)[0]){case 0:case 1:u=t;break;case 4:return a.label++,{value:t[1],done:!1};case 5:a.label++,i=t[1],t=[0];continue;case 7:t=a.ops.pop(),a.trys.pop();continue;default:if(!(u=0<(u=a.trys).length&&u[u.length-1])&&(6===t[0]||2===t[0])){a=0;continue}if(3===t[0]&&(!u||t[1]>u[0]&&t[1]<u[3])){a.label=t[1];break}if(6===t[0]&&a.label<u[1]){a.label=u[1],u=t;break}if(u&&a.label<u[2]){a.label=u[2],a.ops.push(t);break}u[2]&&a.ops.pop(),a.trys.pop();continue}t=r.call(o,a)}catch(e){t=[6,e],i=0}finally{n=u=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}};function d(){var e=null!==n&&n.apply(this,arguments)||this;return e.get_popups=function(o){return s(e,void 0,void 0,function(){var t=this;return l(this,function(e){return[2,u().get(this.getApiBaseURL()+"/_shopify/popups",{headers:{"Content-Type":"application/json"},withCredentials:!0,params:{client_uid:o}}).then(function(e){return a({statusCode:e.status},e.data)}).catch(function(e){return t.handleCatch(e)})]})})},e.get_popup=function(o){return s(e,void 0,void 0,function(){var t=this;return l(this,function(e){return[2,u().get(this.getApiBaseURL()+"/_shopify/popup",{headers:{"Content-Type":"application/json"},withCredentials:!0,params:{uid:o}}).then(function(e){return a({statusCode:e.status},e.data)}).catch(function(e){return t.handleCatch(e)})]})})},e.submit_popup=function(o){return s(e,void 0,void 0,function(){var t=this;return l(this,function(e){return[2,u().post(this.getApiBaseURL()+"/_shopify/popup/submit",o,{headers:{"Content-Type":"application/json"},withCredentials:!0}).then(function(e){return a({statusCode:e.status},e.data)}).catch(function(e){return t.handleCatch(e)})]})})},e.perform_action=function(o){return s(e,void 0,void 0,function(){var t=this;return l(this,function(e){return[2,u().get(o,{headers:{"Content-Type":"application/json"}}).then(function(e){return a({statusCode:e.status},e.data)}).catch(function(e){return t.handleCatch(e)})]})})},e}var w=(n=i.Z,t(d,n),d),p=o(2318),T=o(3067);o(5697);function c(){return!("undefined"==typeof window||!window.document||!window.document.createElement)}var f=c()?C.useLayoutEffect:C.useEffect;var F=function(e){var t,o;return(0,e.children)((t=(0,C.useRef)(c()).current,e=(0,C.useState)({width:t?window.innerWidth:0,height:t?window.innerHeight:0}),t=e[0],o=e[1],f(function(){function e(){return o({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}},[]),t))},S=function(){return(S=Object.assign||function(e){for(var t,o=1,r=arguments.length;o<r;o++)for(var n in t=arguments[o])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},k=function(e,t){for(var o=0,r=t.length,n=e.length;o<r;o++,n++)e[n]=t[o];return e},B=(0,C.lazy)(function(){return Promise.all([o.e(987),o.e(727),o.e(171)]).then(o.bind(o,8802))}),z=(0,C.lazy)(function(){return Promise.all([o.e(987),o.e(727),o.e(563)]).then(o.bind(o,5116))}),P=(0,C.lazy)(function(){return Promise.all([o.e(987),o.e(727),o.e(785)]).then(o.bind(o,7719))}),j=(0,C.lazy)(function(){return Promise.all([o.e(987),o.e(727),o.e(449),o.e(582)]).then(o.bind(o,6582))}),E=(0,C.lazy)(function(){return Promise.all([o.e(987),o.e(727),o.e(460),o.e(991)]).then(o.bind(o,2991))}),A=(0,C.lazy)(function(){return Promise.all([o.e(987),o.e(727),o.e(956)]).then(o.bind(o,7267))}),R=(0,C.lazy)(function(){return Promise.all([o.e(987),o.e(727),o.e(417)]).then(o.bind(o,8005))}),N=(0,C.lazy)(function(){return Promise.all([o.e(987),o.e(52)]).then(o.bind(o,5052))}),H=(0,C.lazy)(function(){return Promise.all([o.e(987),o.e(727),o.e(945)]).then(o.bind(o,460))}),I=(0,C.lazy)(function(){return Promise.all([o.e(987),o.e(727),o.e(872)]).then(o.bind(o,2391))}),Z=(0,C.lazy)(function(){return Promise.all([o.e(987),o.e(727),o.e(689)]).then(o.bind(o,6052))}),O=(0,C.lazy)(function(){return Promise.all([o.e(987),o.e(727),o.e(103)]).then(o.bind(o,2495))}),W=(0,C.lazy)(function(){return Promise.all([o.e(987),o.e(727),o.e(375)]).then(o.bind(o,3721))}),L=(0,C.lazy)(function(){return Promise.all([o.e(987),o.e(727),o.e(460),o.e(232)]).then(o.bind(o,2232))}),M=(0,C.lazy)(function(){return Promise.all([o.e(987),o.e(727),o.e(460),o.e(634)]).then(o.bind(o,8634))}),U=(0,C.lazy)(function(){return Promise.all([o.e(987),o.e(727),o.e(460),o.e(9)]).then(o.bind(o,1009))}),q=(0,C.lazy)(function(){return Promise.all([o.e(987),o.e(727),o.e(460),o.e(15)]).then(o.bind(o,2015))}),G=(0,C.lazy)(function(){return Promise.all([o.e(987),o.e(727),o.e(460),o.e(326)]).then(o.bind(o,8326))}),J=(0,C.lazy)(function(){return Promise.all([o.e(987),o.e(727),o.e(449),o.e(98)]).then(o.bind(o,5098))}),D=(0,C.lazy)(function(){return Promise.all([o.e(987),o.e(727),o.e(460),o.e(208)]).then(o.bind(o,4208))}),K=(0,C.lazy)(function(){return Promise.all([o.e(987),o.e(727),o.e(460),o.e(390)]).then(o.bind(o,3390))});function Q(e,t){switch(t.type){case"loading_popup":return S(S({},e),{loading_popup:!0});case"submitting_form":return S(S({},e),{submitting_form:!0});case"form_submitted":return S(S({},e),{submitting_form:!1,form_submitted:!0});case"error_submitting_popup":return S(S({},e),{loading_popup:!1,error_submitting_popup:t.error});case"popup_loaded":return S(S({},e),{loading_popup:!1,popup:S({popup_title:"",popup_thumbnail:void 0,title:"Subscribe",body:"Be the First to know by subscribing to the email to us. We will send you an update to the email you registered.",bodyTextSize:"12",footerTextSize:"12",backgroundColor:"#fff",titleTextColor:"#550571",titleTextSize:"20",firstTextFormFieldHint:"First name",footer:"We promise not to spam",image:"https://hips.hearstapps.com/hmg-prod.s3.amazonaws.com/images/nature-quotes-1557340276.jpg?crop=0.666xw:1.00xh;0.168xw,0&resize=640:*",popup_id:"0",borderWidth:"1",borderRadius:"5",borderColor:"#eee",buttonBackgroundColor:"#520961",buttonTextColor:"#fff",buttonText:"SUBSCRIBE",buttonTextSize:"12",buttonRadius:"0",firstTextFormFieldTextSize:"12",firstTextFormFieldTextColor:"#bfbfbf",bodyTextColor:"#898788",firstTextFormFieldBackgroundColor:"#ffffff",secondTextFormFieldBackgroundColor:"#ffffff",secondTextFormFieldTextColor:"#bfbfbf",secondTextFormFieldTextSize:"12",thirdTextFormFieldBackgroundColor:"#ffffff",thirdTextFormFieldTextColor:"#bfbfbf",thirdTextFormFieldTextSize:"12",thirdTextFormFieldHint:"Email",secondTextFormFieldHint:"Last name",footerTextColor:"#898788",popup_height:"250",popup_width:"300",popup_position:{label:"Center",value:"center"},creationMode:!1,onImageSelected:function(){},onBackgroundSelected:function(){},onFormInputSelected:function(){},onButtonSelected:function(){},onTextSelected:function(){},aspect_ratio:!0,hideFirstTextFormField:!1,hideSecondTextFormField:!1,hideThirdSecondTextFormField:!1,titleAlign:"right",bodyAlign:"center",footerAlign:"center",hideBody:!1,hideFooter:!1,hideTitle:!1,buttonHoverColor:"#520961"},t.popup),form_submitted:!1,submitting_form:!1,error_loading_popup:""});case"popups_loaded":return S(S({},e),{popups:t.popups.map(function(e){return S({popup_title:"",popup_thumbnail:void 0,title:"Subscribe",body:"Be the First to know by subscribing to the email to us. We will send you an update to the email you registered.",bodyTextSize:"12",footerTextSize:"12",backgroundColor:"#fff",titleTextColor:"#550571",titleTextSize:"20",firstTextFormFieldHint:"First name",footer:"We promise not to spam",image:"https://hips.hearstapps.com/hmg-prod.s3.amazonaws.com/images/nature-quotes-1557340276.jpg?crop=0.666xw:1.00xh;0.168xw,0&resize=640:*",popup_id:"0",borderWidth:"1",borderRadius:"5",borderColor:"#eee",buttonBackgroundColor:"#520961",buttonTextColor:"#fff",buttonText:"SUBSCRIBE",buttonTextSize:"12",buttonRadius:"0",firstTextFormFieldTextSize:"12",firstTextFormFieldTextColor:"#bfbfbf",bodyTextColor:"#898788",firstTextFormFieldBackgroundColor:"#ffffff",secondTextFormFieldBackgroundColor:"#ffffff",secondTextFormFieldTextColor:"#bfbfbf",secondTextFormFieldTextSize:"12",thirdTextFormFieldBackgroundColor:"#ffffff",thirdTextFormFieldTextColor:"#bfbfbf",thirdTextFormFieldTextSize:"12",thirdTextFormFieldHint:"Email",secondTextFormFieldHint:"Last name",footerTextColor:"#898788",popup_height:"250",popup_width:"300",popup_position:{label:"Center",value:"center"},creationMode:!1,onImageSelected:function(){},onBackgroundSelected:function(){},onFormInputSelected:function(){},onButtonSelected:function(){},onTextSelected:function(){},aspect_ratio:!0,hideFirstTextFormField:!1,hideSecondTextFormField:!1,hideThirdSecondTextFormField:!1,titleAlign:"right",bodyAlign:"center",footerAlign:"center",hideBody:!1,hideFooter:!1,hideTitle:!1,buttonHoverColor:"#520961"},e)})});default:return S({},e)}}var V=(0,C.createContext)({loading_popup:!0}),X=(0,C.createContext)({}),Y=(0,C.createContext)({});function $(e){var t=e.popup,o=e.formSubmitted,e=e.failedToSubmitted,t=(0,_.O)(t);return(0,y.jsxs)("div",S({className:t.root,onClick:function(){}},{children:[e&&(0,y.jsx)(p.Z,S({className:t.title,style:{display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",height:"100%"}},{children:"Cannot save your response right now, Try again later!"}),void 0),o&&(0,y.jsx)(p.Z,S({className:t.title,style:{display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",height:"100%"}},{children:"Successfully saved your response!"}),void 0)]}),void 0)}function h(e){var t=e.client_id,o=(0,C.useReducer)(Q,{loading_popup:!0,popups:[]}),s=o[0],l=o[1],r=s.popup,n=s.form_submitted,i=s.error_loading_popup,u=s.error_submitting_popup,e=(s.loading_popup,(0,C.useState)()),d=e[0],p=e[1],a=(0,C.useRef)(!1),o=(0,C.useState)(0),c=o[0],f=o[1],e=(0,C.useState)(0),h=e[0],g=e[1],o=(0,C.useState)([]),m=o[0],b=o[1],e=(0,C.useState)([]),v=e[0],x=e[1],o=(0,C.useCallback)(function(e,t,o){t?((t={}).uid=d&&d.uid,t.first_name=e.target.first_name&&e.target.first_name.value,t.last_name=e.target.last_name&&e.target.last_name.value,t.email=e.target.email&&e.target.email.value,l({type:"submitting_form"}),(new w).submit_popup(t).then(function(e){a.current&&(w.hasError(e)?l({type:"error_submitting_popup",error:e.message}):l({type:"form_submitted"}))})):o&&(l({type:"submitting_form"}),(new w).perform_action(o).then(function(e){a.current&&(w.hasError(e)?l({type:"error_submitting_popup",error:e.message}):l({type:"form_submitted"}))}))},[a,d]),e=(0,C.useCallback)(function(){window.postMessage("close_popup","*")},[]);return(0,T.Z)(function(){if(s&&s.popups&&0<s.popups.length){for(var i=k([],m),u=0;u<i.length;u++)for(var a=i[u],e=0;e<s.popups.length;e++)!function(e){var t=s.popups[e];if(t&&!d&&!v.includes(t.uid))for(var o=0;o<t.triggers.length;o++){var r,n=t.triggers[o];if("idle"===n.type){if(n.delay_seconds<=c){"string"==typeof t.data&&(r=JSON.parse(t.data),l({type:"popup_loaded",popup:r}),p(t)),x(function(e){return k(k([],e),[t.uid])}),f(0);break}}else if(n.type===a.type&&h-n.delay_seconds>=a.seconds){"string"==typeof t.data&&(r=JSON.parse(t.data),l({type:"popup_loaded",popup:r}),p(t)),x(function(e){return k(k([],e),[t.uid])});n=k([],i);n.splice(u,1),b(n);break}}}(e);d||(g(function(e){return e+1}),f(function(e){return e+1}))}},1e3,!1),(0,C.useEffect)(function(){if(!(d||h<1))return-1===m.findIndex(function(e){return"on-load"===e.type})&&b(function(e){return k(k([],e),[{type:"on-load",seconds:h}])}),document.body.addEventListener("mouseleave",t),window.addEventListener("scroll",e,{passive:!0}),window.addEventListener("keydown",o,{passive:!0}),function(){window.removeEventListener("scroll",e),window.removeEventListener("keydown",o),document.body.removeEventListener("mouseleave",t)};function e(e){var t,o,r,n;f(0),-1===m.findIndex(function(e){return"scroll-start"===e.type})&&b(function(e){return k(k([],e),[{type:"scroll-start",seconds:h}])}),r=document.body.parentNode,t=.5*(n=r.scrollHeight)-.5*r.clientHeight,o=t-.1*n,n=t+.1*n,r=Math.round(r.scrollTop),o<=r&&r<=n&&-1===m.findIndex(function(e){return"scroll-middle"===e.type})&&b(function(e){return k(k([],e),[{type:"scroll-middle",seconds:h}])}),r=document.body.parentNode,(n=r.scrollHeight)-.1*n<=Math.round(r.scrollTop)+r.clientHeight&&-1===m.findIndex(function(e){return"scroll-end"===e.type})&&b(function(e){return k(k([],e),[{type:"scroll-end",seconds:h}])})}function t(){-1===m.findIndex(function(e){return"leaving"===e.type})&&b(function(e){return k(k([],e),[{type:"leaving",seconds:h}])})}function o(){f(0)}},[h,m,d]),(0,C.useEffect)(function(){return a.current=!0,function(){a.current=!1}},[]),(0,C.useEffect)(function(){l({type:"loading_popup"}),(new w).get_popups(t).then(function(e){a.current&&(w.hasError(e)?l({type:"error_loading_popup",error:e.message&&""!==e.message?e.message:"Error loading popup"}):e.popups&&l({type:"popups_loaded",popups:e.popups}))})},[t]),d?(0,y.jsx)("div",S({className:"ew-popup-css"},{children:(0,y.jsx)(X.Provider,S({value:l},{children:(0,y.jsx)(V.Provider,S({value:s},{children:(0,y.jsx)(Y.Provider,S({value:{onPositiveButtonClicked:o,onNegativeButtonClicked:e}},{children:r&&(0,y.jsx)("div",S({className:"popup-overlay",style:{justifyContent:"center"===r.popup_position||"top-middle"===r.popup_position||"bottom-middle"===r.popup_position?"center":"top-left"===r.popup_position||"middle-left"===r.popup_position||"bottom-left"===r.popup_position?"flex-start":"top-right"===r.popup_position||"middle-right"===r.popup_position||"bottom-right"===r.popup_position?"flex-end":"center",alignItems:"top-left"===r.popup_position||"top-middle"===r.popup_position||"top-right"===r.popup_position?"flex-start":"middle-left"!==r.popup_position&&"center"!==r.popup_position&&"middle-right"!==r.popup_position&&("bottom-right"===r.popup_position||"bottom-middle"===r.popup_position||"bottom-left"===r.popup_position)?"flex-end":"center"}},{children:(0,y.jsx)("div",S({className:"popup-wrapper",style:{background:!u&&n?"white":"transparent"}},{children:(0,y.jsxs)("div",{children:[!(i||!r)&&!u&&!n&&(0,y.jsx)(C.Suspense,S({fallback:(0,y.jsx)("div",{},void 0)},{children:(0,y.jsx)(F,{children:function(e){return(0,y.jsxs)(_.t.Provider,S({value:{isMobile:e.width<800}},{children:[r&&"1"===r.popup_id&&(0,y.jsx)(B,{},void 0),r&&"2"===r.popup_id&&(0,y.jsx)(z,{},void 0),r&&"3"===r.popup_id&&(0,y.jsx)(P,{},void 0),r&&"4"===r.popup_id&&(0,y.jsx)(j,{},void 0),r&&"5"===r.popup_id&&(0,y.jsx)(E,{},void 0),r&&"6"===r.popup_id&&(0,y.jsx)(A,{},void 0),r&&"7"===r.popup_id&&(0,y.jsx)(R,{},void 0),r&&"8"===r.popup_id&&(0,y.jsx)(N,{},void 0),r&&"9"===r.popup_id&&(0,y.jsx)(H,{},void 0),r&&"10"===r.popup_id&&(0,y.jsx)(I,{},void 0),r&&"11"===r.popup_id&&(0,y.jsx)(Z,{},void 0),r&&"12"===r.popup_id&&(0,y.jsx)(O,{},void 0),r&&"13"===r.popup_id&&(0,y.jsx)(W,{},void 0),r&&"14"===r.popup_id&&(0,y.jsx)(L,{},void 0),r&&"15"===r.popup_id&&(0,y.jsx)(M,{},void 0),r&&"16"===r.popup_id&&(0,y.jsx)(U,{},void 0),r&&"17"===r.popup_id&&(0,y.jsx)(q,{},void 0),r&&"18"===r.popup_id&&(0,y.jsx)(G,{},void 0),r&&"19"===r.popup_id&&(0,y.jsx)(J,{},void 0),r&&"20"===r.popup_id&&(0,y.jsx)(D,{},void 0),r&&"21"===r.popup_id&&(0,y.jsx)(K,{},void 0)]}),void 0)}},void 0)}),void 0),r&&(u||n)&&(0,y.jsx)($,{popup:r,failedToSubmitted:!!u,formSubmitted:!!n},void 0),(0,y.jsx)("button",S({className:"popup-close-btn",onClick:function(){p(void 0)}},{children:" ✕"}),void 0)]},void 0)}),void 0)}),void 0)}),void 0)}),void 0)}),void 0)}),void 0):null}},9168:function(e,t,o){o.d(t,{J:function(){return s}});var r=o(9669),n=o.n(r),i=function(){return(i=Object.assign||function(e){for(var t,o=1,r=arguments.length;o<r;o++)for(var n in t=arguments[o])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},u=function(e,u,a,s){return new(a=a||Promise)(function(o,t){function r(e){try{i(s.next(e))}catch(e){t(e)}}function n(e){try{i(s.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?o(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(r,n)}i((s=s.apply(e,u||[])).next())})},a=function(o,r){var n,i,u,a={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(u=2&t[0]?i.return:t[0]?i.throw||((u=i.return)&&u.call(i),0):i.next)&&!(u=u.call(i,t[1])).done)return u;switch(i=0,(t=u?[2&t[0],u.value]:t)[0]){case 0:case 1:u=t;break;case 4:return a.label++,{value:t[1],done:!1};case 5:a.label++,i=t[1],t=[0];continue;case 7:t=a.ops.pop(),a.trys.pop();continue;default:if(!(u=0<(u=a.trys).length&&u[u.length-1])&&(6===t[0]||2===t[0])){a=0;continue}if(3===t[0]&&(!u||t[1]>u[0]&&t[1]<u[3])){a.label=t[1];break}if(6===t[0]&&a.label<u[1]){a.label=u[1],u=t;break}if(u&&a.label<u[2]){a.label=u[2],a.ops.push(t);break}u[2]&&a.ops.pop(),a.trys.pop();continue}t=r.call(o,a)}catch(e){t=[6,e],i=0}finally{n=u=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},s=function(e){var i=this;this.process_params=function(r,n){for(var e in r)!function(e){var t,o;r.hasOwnProperty(e)&&(t=n?n+"["+e+"]":e,"string"==typeof(e=r[e])?i.flattened_data.push({key:t,value:e}):"number"==typeof e?i.flattened_data.push({key:t,value:e+""}):"boolean"==typeof e?i.flattened_data.push({key:t,value:e?"true":"false"}):void 0===e||(Array.isArray(e)?(o={},e.forEach(function(e,t){return o[t+""]=e})):o=e,i.process_params(o,t)))}(e)},this.get_form_data=function(){return i.flattened_data},this.flattened_data=[],this.process_params(e,"")},r=(l.getErrorString=function(e){return"string"==typeof e?e:e.join(" ")},l.csrfToken={token:"dummy_expired_token",expiry:new Date(0)},l.hasError=function(e){return!e||400<=e.statusCode||(!(e&&!e.validation_errors)||void 0)},l.getError=function(e){return e.message&&"string"==typeof e.message?e.message:e.validation_errors?e.validation_errors.csrf?l.getErrorString(e.validation_errors.csrf):e.validation_errors.network?l.getErrorString(e.validation_errors.network):e.validation_errors.email?l.getErrorString(e.validation_errors.email):e.validation_errors.password?l.getErrorString(e.validation_errors.password):e.validation_errors.name?l.getErrorString(e.validation_errors.name):"Unknown error!":l.getErrorFromStatusCode(e)},l.getErrorFromStatusCode=function(e){switch(e.statusCode){case 400:return"Request error: Bad Request";case 401:return"Request error: Unauthorized";case 402:return"Request error: Payment Required";case 403:return"Request error: Forbidden";case 404:return"Request error: Not Found";case 405:return"Request error: Method Not Allowed";case 500:return"Server error: Internal error";case 501:return"Server error: Not Implemented";case 502:return"Server error: Bad Gateway";case 503:return"Server error: Service Unavailable";case 504:return"Server error: Gateway Timeout";default:return"Unknown error"}},l);function l(){var t=this;this.getApiBaseURL=function(){return"http://builder.emailwish.com"},this.getCsrfToken=function(e){return void 0===e&&(e=!1),u(t,void 0,void 0,function(){return a(this,function(e){return[2,this.fetchCsrfToken().then(function(e){return l.hasError(e)||!e.token?"":e.token})]})})},this.fetchCsrfToken=function(){return n().get(t.getApiBaseURL()+"/_api/v1/csrf-token",{withCredentials:!0}).then(function(e){return i({statusCode:e.status},e.data)}).catch(function(e){})},this.ipLocation=function(){return n().get(t.getApiBaseURL()+"/_api/v1/ip-location",{withCredentials:!0}).then(function(e){return i({statusCode:e.status},e.data)}).catch(function(e){})},this.handleCatch=function(e){return console.log("error"),console.log(e),e&&e.response&&e.response.status&&e.response.data?i(i({},e.response.data),{statusCode:e.response.status}):e instanceof n().Cancel?{statusCode:999,message:void 0}:{statusCode:999,message:"Network Error"}}}t.Z=r},5343:function(e,t,o){o.d(t,{t:function(){return i},O:function(){return n}});var t=o(3914),r=o(150);var o=o(7294),n=(0,t.Z)(function(){return(0,r.Z)({root:function(e){return{backgroundColor:e.hasBackgroundImage?e.backgroundOverlayColor:e.backgroundColor,borderColor:e.borderColor,borderRadius:e.borderRadius+"px",borderWidth:e.borderWidth+"px",borderStyle:"solid",overflow:"hidden",width:e.isMobile?"100%":e.popup_width+"px",maxWidth:e.isMobile?"350px":"unset",height:e.isMobile?"auto":e.popup_height+"px",margin:"0",backgroundImage:e.hasBackgroundImage?"url("+e.backgroundImage+")":"none",backgroundPosition:e.hasBackgroundImage?e.backgroundPosition:"unset",backgroundRepeat:e.hasBackgroundImage?e.backgroundRepeat:"unset",backgroundSize:e.hasBackgroundImage?e.backgroundSize:"unset",backgroundBlendMode:"overlay"}},powered_by:function(e){return{display:"flex",justifyContent:"center",alignItems:"flex-end"}},powered_by_typo:function(e){return{fontSize:"12px",color:e.titleTextColor,marginTop:"4px",display:e.hideBranding?"none !important":"unset"}},firstFormField:function(e){return{fontSize:e.firstTextFormFieldTextSize+"px",height:"auto",color:e.firstTextFormFieldTextColor,borderColor:e.firstTextFormBorderColor,backgroundColor:e.firstTextFormFieldBackgroundColor,boxShadow:"0 0 2px 2px "+(e.firstTextFormShadowColor||"#000"),"& :focus":{outline:"none",borderColor:e.firstTextFormFocusBorderColor,boxShadow:"0 3px 20px 0 "+(e.firstTextFormFocusShadowColor||"#000")}}},secondFormField:function(e){return{fontSize:e.secondTextFormFieldTextSize+"px",height:"auto",color:e.secondTextFormFieldTextColor,borderColor:e.secondTextFormBorderColor,backgroundColor:e.secondTextFormFieldBackgroundColor,boxShadow:"0 0 2px 2px "+(e.secondTextFormShadowColor||"#000"),"& :focus":{outline:"none",borderColor:e.secondTextFormFocusBorderColor,boxShadow:"0 3px 20px 0 "+(e.secondTextFormFocusShadowColor||"#000")}}},thirdFormField:function(e){return{fontSize:e.thirdTextFormFieldTextSize+"px",height:"auto",color:e.thirdTextFormFieldTextColor,borderColor:e.thirdTextFormBorderColor,backgroundColor:e.thirdTextFormFieldBackgroundColor,boxShadow:"0 0 2px 2px "+(e.thirdTextFormShadowColor||"#000"),"& :focus":{outline:"none",boxShadow:"0 3px 20px 0 "+(e.thirdTextFormFocusShadowColor||"#000")}}},title:function(e){return{color:e.titleTextColor,fontSize:e.titleTextSize+"px",fontWeight:"bold",textAlign:e.titleAlign}},body:function(e){return{color:e.bodyTextColor,fontSize:e.bodyTextSize+"px",textAlign:e.bodyAlign}},image:function(e){return{height:e.imageHeightPercentAge+"%",width:e.imageWidthPercentAge+"%",backgroundImage:"url("+e.image+")",backgroundPosition:e.imageBackgroundPosition,backgroundRepeat:e.imageBackgroundRepeat,backgroundSize:e.imageBackgroundSize}},footer:function(e){return{fontSize:e.footerTextSize+"px",color:e.footerTextColor,marginTop:"20px",fontStyle:"italic",textAlign:e.footerAlign}},positiveButtonWrapper:function(e){return{display:"flex",justifyContent:e.PositiveButtonAlignment,width:"100%"}},positiveButton:function(e){return{width:"auto"===e.PositiveButtonWidth?"auto":e.PositiveButtonWidth+"%",height:"auto"===e.PositiveButtonHeight?"auto":e.PositiveButtonHeight+"px",textAlign:e.PositiveButtonTextAlignment,display:"inline-block",fontWeight:400,verticalAlign:"middle",userSelect:"none",border:"1px solid transparent",padding:"0.375rem 0.75rem",lineHeight:"1.5",transition:"color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out",color:e.PositiveButtonTextColor,backgroundColor:e.PositiveButtonBackgroundColor,"&:hover":{backgroundColor:e.PositiveButtonHoverBackgroundColor,borderColor:e.PositiveButtonHoverBorderColor,color:e.PositiveButtonHoverTextColor},fontSize:e.PositiveButtonTextSize+"px",borderRadius:e.PositiveButtonRadius+"px",borderColor:e.PositiveButtonBorderColor,boxShadow:"0 0 2px 2px "+(e.PositiveButtonShadowColor||"#000"),"&:focus,&:active":{outline:"none",color:e.PositiveButtonHoverTextColor,backgroundColor:e.PositiveButtonHoverBackgroundColor,borderColor:e.PositiveButtonFocusBorderColor,boxShadow:"0 3px 20px 0 "+(e.PositiveButtonFocusShadowColor||"#000")}}},negativeButton:function(e){return{display:"inline-block",fontWeight:400,verticalAlign:"middle",userSelect:"none",padding:"0.375rem 0.75rem",lineHeight:"1.5",transition:"color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out",color:e.NegativeButtonTextColor,backgroundColor:e.NegativeButtonBackgroundColor,"&:hover":{backgroundColor:e.NegativeButtonHoverBackgroundColor,borderColor:e.NegativeButtonHoverBorderColor,color:e.NegativeButtonHoverTextColor},fontSize:e.NegativeButtonTextSize+"px",borderRadius:e.NegativeButtonRadius+"px",border:"none",width:"auto",borderColor:e.NegativeButtonBorderColor,boxShadow:"0 0 2px 2px "+(e.NegativeButtonShadowColor||"#000"),"&:focus":{outline:"none",color:e.NegativeButtonHoverTextColor,backgroundColor:e.NegativeButtonHoverBackgroundColor,borderColor:e.NegativeButtonFocusBorderColor,boxShadow:"0 3px 20px 0 "+(e.NegativeButtonFocusShadowColor||"#000")}}},formParent:function(e){return{display:"flex",flexDirection:"column",height:"100%",justifyContent:e.formAlignment}}})},{index:1}),i=(0,o.createContext)({isMobile:!1})},3067:function(e,t,o){function n(){}var i=o(7294);t.Z=function(e,t,o){var r=(0,i.useRef)(n);(0,i.useEffect)(function(){r.current=e}),(0,i.useEffect)(function(){o&&null!==t&&!1!==t&&r.current()},[o]),(0,i.useEffect)(function(){if(null!==t&&!1!==t){var e=setInterval(function(){return r.current()},t);return function(){return clearInterval(e)}}},[t])}}}]);