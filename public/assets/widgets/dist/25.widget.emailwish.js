(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{100:function(e,t,o){"use strict";o.d(t,"b",(function(){return u})),o.d(t,"a",(function(){return a}));var r=o(406),n=o(422),i=o(1),u=Object(r.a)((function(){return Object(n.a)({root:function(e){return{backgroundColor:e.hasBackgroundImage?e.backgroundOverlayColor:e.backgroundColor,borderColor:e.borderColor,borderRadius:e.borderRadius+"px",borderWidth:e.borderWidth+"px",borderStyle:"solid",overflow:"hidden",width:e.isMobile?"100%":e.popup_width+"px",maxWidth:e.isMobile?"350px":"unset",height:e.isMobile?"auto":e.popup_height+"px",margin:"0",backgroundImage:e.hasBackgroundImage?"url("+e.backgroundImage+")":"none",backgroundPosition:e.hasBackgroundImage?e.backgroundPosition:"unset",backgroundRepeat:e.hasBackgroundImage?e.backgroundRepeat:"unset",backgroundSize:e.hasBackgroundImage?e.backgroundSize:"unset",backgroundBlendMode:"overlay"}},powered_by:function(e){return{display:"flex",justifyContent:"center",alignItems:"flex-end"}},powered_by_typo:function(e){return{fontSize:"12px",color:e.titleTextColor,marginTop:"4px",display:e.hideBranding?"none !important":"unset"}},firstFormField:function(e){return{fontSize:e.firstTextFormFieldTextSize+"px",height:"auto",color:e.firstTextFormFieldTextColor,borderColor:e.firstTextFormBorderColor,backgroundColor:e.firstTextFormFieldBackgroundColor,boxShadow:"0 0 2px 2px "+(e.firstTextFormShadowColor||"#000"),"& :focus":{outline:"none",borderColor:e.firstTextFormFocusBorderColor,boxShadow:"0 3px 20px 0 "+(e.firstTextFormFocusShadowColor||"#000")}}},secondFormField:function(e){return{fontSize:e.secondTextFormFieldTextSize+"px",height:"auto",color:e.secondTextFormFieldTextColor,borderColor:e.secondTextFormBorderColor,backgroundColor:e.secondTextFormFieldBackgroundColor,boxShadow:"0 0 2px 2px "+(e.secondTextFormShadowColor||"#000"),"& :focus":{outline:"none",borderColor:e.secondTextFormFocusBorderColor,boxShadow:"0 3px 20px 0 "+(e.secondTextFormFocusShadowColor||"#000")}}},thirdFormField:function(e){return{fontSize:e.thirdTextFormFieldTextSize+"px",height:"auto",color:e.thirdTextFormFieldTextColor,borderColor:e.thirdTextFormBorderColor,backgroundColor:e.thirdTextFormFieldBackgroundColor,boxShadow:"0 0 2px 2px "+(e.thirdTextFormShadowColor||"#000"),"& :focus":{outline:"none",boxShadow:"0 3px 20px 0 "+(e.thirdTextFormFocusShadowColor||"#000")}}},title:function(e){return{color:e.titleTextColor,fontSize:e.titleTextSize+"px",fontWeight:"bold",textAlign:e.titleAlign}},body:function(e){return{color:e.bodyTextColor,fontSize:e.bodyTextSize+"px",textAlign:e.bodyAlign}},image:function(e){return{height:e.imageHeightPercentAge+"%",width:e.imageWidthPercentAge+"%",backgroundImage:"url("+e.image+")",backgroundPosition:e.imageBackgroundPosition,backgroundRepeat:e.imageBackgroundRepeat,backgroundSize:e.imageBackgroundSize}},footer:function(e){return{fontSize:e.footerTextSize+"px",color:e.footerTextColor,marginTop:"20px",fontStyle:"italic",textAlign:e.footerAlign}},positiveButtonWrapper:function(e){return{display:"flex",justifyContent:e.PositiveButtonAlignment,width:"100%"}},positiveButton:function(e){return{width:"auto"===e.PositiveButtonWidth?"auto":e.PositiveButtonWidth+"%",height:"auto"===e.PositiveButtonHeight?"auto":e.PositiveButtonHeight+"px",textAlign:e.PositiveButtonTextAlignment,display:"inline-block",fontWeight:400,verticalAlign:"middle",userSelect:"none",border:"1px solid transparent",padding:"0.375rem 0.75rem",lineHeight:"1.5",transition:"color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out",color:e.PositiveButtonTextColor,backgroundColor:e.PositiveButtonBackgroundColor,"&:hover":{backgroundColor:e.PositiveButtonHoverBackgroundColor,borderColor:e.PositiveButtonHoverBorderColor,color:e.PositiveButtonHoverTextColor},fontSize:e.PositiveButtonTextSize+"px",borderRadius:e.PositiveButtonRadius+"px",borderColor:e.PositiveButtonBorderColor,boxShadow:"0 0 2px 2px "+(e.PositiveButtonShadowColor||"#000"),"&:focus,&:active":{outline:"none",color:e.PositiveButtonHoverTextColor,backgroundColor:e.PositiveButtonHoverBackgroundColor,borderColor:e.PositiveButtonFocusBorderColor,boxShadow:"0 3px 20px 0 "+(e.PositiveButtonFocusShadowColor||"#000")}}},negativeButton:function(e){return{display:"inline-block",fontWeight:400,verticalAlign:"middle",userSelect:"none",padding:"0.375rem 0.75rem",lineHeight:"1.5",transition:"color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out",color:e.NegativeButtonTextColor,backgroundColor:e.NegativeButtonBackgroundColor,"&:hover":{backgroundColor:e.NegativeButtonHoverBackgroundColor,borderColor:e.NegativeButtonHoverBorderColor,color:e.NegativeButtonHoverTextColor},fontSize:e.NegativeButtonTextSize+"px",borderRadius:e.NegativeButtonRadius+"px",border:"none",width:"auto",borderColor:e.NegativeButtonBorderColor,boxShadow:"0 0 2px 2px "+(e.NegativeButtonShadowColor||"#000"),"&:focus":{outline:"none",color:e.NegativeButtonHoverTextColor,backgroundColor:e.NegativeButtonHoverBackgroundColor,borderColor:e.NegativeButtonFocusBorderColor,boxShadow:"0 3px 20px 0 "+(e.NegativeButtonFocusShadowColor||"#000")}}},formParent:function(e){return{display:"flex",flexDirection:"column",height:"100%",justifyContent:e.formAlignment}}})}),{index:1}),a=Object(i.createContext)({isMobile:!1})},115:function(e,t,o){"use strict";o.d(t,"a",(function(){return s}));var r=o(112),n=o.n(r),i=function(){return(i=Object.assign||function(e){for(var t,o=1,r=arguments.length;o<r;o++)for(var n in t=arguments[o])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},u=function(e,t,o,r){return new(o||(o=Promise))((function(n,i){function u(e){try{s(r.next(e))}catch(e){i(e)}}function a(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?n(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(u,a)}s((r=r.apply(e,t||[])).next())}))},a=function(e,t){var o,r,n,i,u={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,r&&(n=2&i[0]?r.return:i[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,i[1])).done)return n;switch(r=0,n&&(i=[2&i[0],n.value]),i[0]){case 0:case 1:n=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,r=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(n=u.trys,(n=n.length>0&&n[n.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!n||i[1]>n[0]&&i[1]<n[3])){u.label=i[1];break}if(6===i[0]&&u.label<n[1]){u.label=n[1],n=i;break}if(n&&u.label<n[2]){u.label=n[2],u.ops.push(i);break}n[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e],r=0}finally{o=n=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},s=function(e){var t=this;this.process_params=function(e,o){var r=function(r){if(e.hasOwnProperty(r)){var n=o?o+"["+r+"]":r,i=e[r];if("string"==typeof i)t.flattened_data.push({key:n,value:i});else if("number"==typeof i)t.flattened_data.push({key:n,value:i+""});else if("boolean"==typeof i)t.flattened_data.push({key:n,value:i?"true":"false"});else if(void 0===i);else{var u;Array.isArray(i)?(u={},i.forEach((function(e,t){return u[t+""]=e}))):u=i,t.process_params(u,n)}}};for(var n in e)r(n)},this.get_form_data=function(){return t.flattened_data},this.flattened_data=[],this.process_params(e,"")},l=function(){function e(){var t=this;this.getApiBaseURL=function(){return"http://builder.emailwish.com"},this.getCsrfToken=function(o){return void 0===o&&(o=!1),u(t,void 0,void 0,(function(){return a(this,(function(t){return[2,this.fetchCsrfToken().then((function(t){return e.hasError(t)||!t.token?"":t.token}))]}))}))},this.fetchCsrfToken=function(){return n.a.get(t.getApiBaseURL()+"/_api/v1/csrf-token",{withCredentials:!0}).then((function(e){return i({statusCode:e.status},e.data)})).catch((function(e){}))},this.ipLocation=function(){return n.a.get(t.getApiBaseURL()+"/_api/v1/ip-location",{withCredentials:!0}).then((function(e){return i({statusCode:e.status},e.data)})).catch((function(e){}))},this.handleCatch=function(e){return console.log("error"),console.log(e),e&&e.response&&e.response.status&&e.response.data?i(i({},e.response.data),{statusCode:e.response.status}):e instanceof n.a.Cancel?{statusCode:999,message:void 0}:{statusCode:999,message:"Network Error"}}}return e.getErrorString=function(e){return"string"==typeof e?e:e.join(" ")},e.csrfToken={token:"dummy_expired_token",expiry:new Date(0)},e.hasError=function(e){return!e||e.statusCode>=400||(!(e&&!e.validation_errors)||void 0)},e.getError=function(t){return t.message&&"string"==typeof t.message?t.message:t.validation_errors?t.validation_errors.csrf?e.getErrorString(t.validation_errors.csrf):t.validation_errors.network?e.getErrorString(t.validation_errors.network):t.validation_errors.email?e.getErrorString(t.validation_errors.email):t.validation_errors.password?e.getErrorString(t.validation_errors.password):t.validation_errors.name?e.getErrorString(t.validation_errors.name):"Unknown error!":e.getErrorFromStatusCode(t)},e.getErrorFromStatusCode=function(e){switch(e.statusCode){case 400:return"Request error: Bad Request";case 401:return"Request error: Unauthorized";case 402:return"Request error: Payment Required";case 403:return"Request error: Forbidden";case 404:return"Request error: Not Found";case 405:return"Request error: Method Not Allowed";case 500:return"Server error: Internal error";case 501:return"Server error: Not Implemented";case 502:return"Server error: Bad Gateway";case 503:return"Server error: Service Unavailable";case 504:return"Server error: Gateway Timeout";default:return"Unknown error"}},e}();t.b=l},54:function(e,t,o){"use strict";o.r(t),o.d(t,"appReducer",(function(){return U})),o.d(t,"AppStateContext",(function(){return M})),o.d(t,"AppDispatchContext",(function(){return q})),o.d(t,"AppFunctionContext",(function(){return G})),o.d(t,"default",(function(){return D}));var r,n=o(3),i=o(1),u=o(100),a=o(115),s=o(112),l=o.n(s),d=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=function(){return(c=Object.assign||function(e){for(var t,o=1,r=arguments.length;o<r;o++)for(var n in t=arguments[o])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},p=function(e,t,o,r){return new(o||(o=Promise))((function(n,i){function u(e){try{s(r.next(e))}catch(e){i(e)}}function a(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?n(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(u,a)}s((r=r.apply(e,t||[])).next())}))},f=function(e,t){var o,r,n,i,u={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,r&&(n=2&i[0]?r.return:i[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,i[1])).done)return n;switch(r=0,n&&(i=[2&i[0],n.value]),i[0]){case 0:case 1:n=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,r=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(n=u.trys,(n=n.length>0&&n[n.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!n||i[1]>n[0]&&i[1]<n[3])){u.label=i[1];break}if(6===i[0]&&u.label<n[1]){u.label=n[1],n=i;break}if(n&&u.label<n[2]){u.label=n[2],u.ops.push(i);break}n[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e],r=0}finally{o=n=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.get_popups=function(e){return p(t,void 0,void 0,(function(){var t=this;return f(this,(function(o){return[2,l.a.get(this.getApiBaseURL()+"/_shopify/popups",{headers:{"Content-Type":"application/json"},withCredentials:!0,params:{client_uid:e}}).then((function(e){return c({statusCode:e.status},e.data)})).catch((function(e){return t.handleCatch(e)}))]}))}))},t.get_popup=function(e){return p(t,void 0,void 0,(function(){var t=this;return f(this,(function(o){return[2,l.a.get(this.getApiBaseURL()+"/_shopify/popup",{headers:{"Content-Type":"application/json"},withCredentials:!0,params:{uid:e}}).then((function(e){return c({statusCode:e.status},e.data)})).catch((function(e){return t.handleCatch(e)}))]}))}))},t.submit_popup=function(e){return p(t,void 0,void 0,(function(){var t=this;return f(this,(function(o){return[2,l.a.post(this.getApiBaseURL()+"/_shopify/popup/submit",e,{headers:{"Content-Type":"application/json"},withCredentials:!0}).then((function(e){return c({statusCode:e.status},e.data)})).catch((function(e){return t.handleCatch(e)}))]}))}))},t.popup_mark_shown=function(e){return p(t,void 0,void 0,(function(){var t=this;return f(this,(function(o){return[2,l.a.post(this.getApiBaseURL()+"/_shopify/popup/mark_shown",e,{headers:{"Content-Type":"application/json"},withCredentials:!0}).then((function(e){return c({statusCode:e.status},e.data)})).catch((function(e){return t.handleCatch(e)}))]}))}))},t.perform_action=function(e){return p(t,void 0,void 0,(function(){var t=this;return f(this,(function(o){return[2,l.a.get(e,{headers:{"Content-Type":"application/json"}}).then((function(e){return c({statusCode:e.status},e.data)})).catch((function(e){return t.handleCatch(e)}))]}))}))},t}return d(t,e),t}(a.b),h=o(331),g=o(177),m=o(408),x=function(){return(x=Object.assign||function(e){for(var t,o=1,r=arguments.length;o<r;o++)for(var n in t=arguments[o])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},v=function(e,t){for(var o=0,r=t.length,n=e.length;o<r;o++,n++)e[n]=t[o];return e},y=Object(i.lazy)((function(){return Promise.all([o.e(0),o.e(1),o.e(11)]).then(o.bind(null,437))})),_=Object(i.lazy)((function(){return Promise.all([o.e(0),o.e(1),o.e(16)]).then(o.bind(null,438))})),C=Object(i.lazy)((function(){return Promise.all([o.e(0),o.e(1),o.e(17)]).then(o.bind(null,439))})),j=Object(i.lazy)((function(){return Promise.all([o.e(0),o.e(1),o.e(6),o.e(35)]).then(o.bind(null,432))})),T=Object(i.lazy)((function(){return Promise.all([o.e(0),o.e(1),o.e(2),o.e(36)]).then(o.bind(null,433))})),w=Object(i.lazy)((function(){return Promise.all([o.e(0),o.e(1),o.e(18)]).then(o.bind(null,440))})),F=Object(i.lazy)((function(){return Promise.all([o.e(0),o.e(1),o.e(19)]).then(o.bind(null,441))})),S=Object(i.lazy)((function(){return Promise.all([o.e(0),o.e(21)]).then(o.bind(null,442))})),k=Object(i.lazy)((function(){return Promise.all([o.e(0),o.e(1),o.e(20)]).then(o.bind(null,443))})),O=Object(i.lazy)((function(){return Promise.all([o.e(0),o.e(1),o.e(12)]).then(o.bind(null,444))})),B=Object(i.lazy)((function(){return Promise.all([o.e(0),o.e(1),o.e(13)]).then(o.bind(null,445))})),P=Object(i.lazy)((function(){return Promise.all([o.e(0),o.e(1),o.e(14)]).then(o.bind(null,446))})),z=Object(i.lazy)((function(){return Promise.all([o.e(0),o.e(1),o.e(15)]).then(o.bind(null,447))})),A=Object(i.lazy)((function(){return Promise.all([o.e(0),o.e(1),o.e(2),o.e(27)]).then(o.bind(null,448))})),R=Object(i.lazy)((function(){return Promise.all([o.e(0),o.e(1),o.e(2),o.e(28)]).then(o.bind(null,449))})),E=Object(i.lazy)((function(){return Promise.all([o.e(0),o.e(1),o.e(2),o.e(29)]).then(o.bind(null,450))})),N=Object(i.lazy)((function(){return Promise.all([o.e(0),o.e(1),o.e(2),o.e(30)]).then(o.bind(null,451))})),H=Object(i.lazy)((function(){return Promise.all([o.e(0),o.e(1),o.e(2),o.e(31)]).then(o.bind(null,452))})),I=Object(i.lazy)((function(){return Promise.all([o.e(0),o.e(1),o.e(6),o.e(32)]).then(o.bind(null,453))})),L=Object(i.lazy)((function(){return Promise.all([o.e(0),o.e(1),o.e(2),o.e(33)]).then(o.bind(null,454))})),W=Object(i.lazy)((function(){return Promise.all([o.e(0),o.e(1),o.e(2),o.e(34)]).then(o.bind(null,455))}));function U(e,t){switch(t.type){case"loading_popup":return x(x({},e),{loading_popup:!0});case"submitting_form":return x(x({},e),{submitting_form:!0});case"form_submitted":return x(x({},e),{submitting_form:!1,form_submitted:!0});case"error_submitting_popup":return x(x({},e),{loading_popup:!1,error_submitting_popup:t.error});case"popup_loaded":return x(x({},e),{loading_popup:!1,popup:x({popup_title:"",popup_thumbnail:void 0,title:"Subscribe",body:"Be the First to know by subscribing to the email to us. We will send you an update to the email you registered.",bodyTextSize:"12",footerTextSize:"12",backgroundColor:"#fff",titleTextColor:"#550571",titleTextSize:"20",firstTextFormFieldHint:"First name",footer:"We promise not to spam",image:"https://hips.hearstapps.com/hmg-prod.s3.amazonaws.com/images/nature-quotes-1557340276.jpg?crop=0.666xw:1.00xh;0.168xw,0&resize=640:*",popup_id:"0",borderWidth:"1",borderRadius:"5",borderColor:"#eee",buttonBackgroundColor:"#520961",buttonTextColor:"#fff",buttonText:"SUBSCRIBE",buttonTextSize:"12",buttonRadius:"0",firstTextFormFieldTextSize:"12",firstTextFormFieldTextColor:"#bfbfbf",bodyTextColor:"#898788",firstTextFormFieldBackgroundColor:"#ffffff",secondTextFormFieldBackgroundColor:"#ffffff",secondTextFormFieldTextColor:"#bfbfbf",secondTextFormFieldTextSize:"12",thirdTextFormFieldBackgroundColor:"#ffffff",thirdTextFormFieldTextColor:"#bfbfbf",thirdTextFormFieldTextSize:"12",thirdTextFormFieldHint:"Email",secondTextFormFieldHint:"Last name",footerTextColor:"#898788",popup_height:"250",popup_width:"300",popup_position:{label:"Center",value:"center"},creationMode:!1,onImageSelected:function(){},onBackgroundSelected:function(){},onFormInputSelected:function(){},onButtonSelected:function(){},onTextSelected:function(){},aspect_ratio:!0,hideFirstTextFormField:!1,hideSecondTextFormField:!1,hideThirdSecondTextFormField:!1,titleAlign:"right",bodyAlign:"center",footerAlign:"center",hideBody:!1,hideFooter:!1,hideTitle:!1,buttonHoverColor:"#520961"},t.popup),form_submitted:!1,submitting_form:!1,error_loading_popup:""});case"popups_loaded":return x(x({},e),{popups:t.popups.map((function(e){return x({popup_title:"",popup_thumbnail:void 0,title:"Subscribe",body:"Be the First to know by subscribing to the email to us. We will send you an update to the email you registered.",bodyTextSize:"12",footerTextSize:"12",backgroundColor:"#fff",titleTextColor:"#550571",titleTextSize:"20",firstTextFormFieldHint:"First name",footer:"We promise not to spam",image:"https://hips.hearstapps.com/hmg-prod.s3.amazonaws.com/images/nature-quotes-1557340276.jpg?crop=0.666xw:1.00xh;0.168xw,0&resize=640:*",popup_id:"0",borderWidth:"1",borderRadius:"5",borderColor:"#eee",buttonBackgroundColor:"#520961",buttonTextColor:"#fff",buttonText:"SUBSCRIBE",buttonTextSize:"12",buttonRadius:"0",firstTextFormFieldTextSize:"12",firstTextFormFieldTextColor:"#bfbfbf",bodyTextColor:"#898788",firstTextFormFieldBackgroundColor:"#ffffff",secondTextFormFieldBackgroundColor:"#ffffff",secondTextFormFieldTextColor:"#bfbfbf",secondTextFormFieldTextSize:"12",thirdTextFormFieldBackgroundColor:"#ffffff",thirdTextFormFieldTextColor:"#bfbfbf",thirdTextFormFieldTextSize:"12",thirdTextFormFieldHint:"Email",secondTextFormFieldHint:"Last name",footerTextColor:"#898788",popup_height:"250",popup_width:"300",popup_position:{label:"Center",value:"center"},creationMode:!1,onImageSelected:function(){},onBackgroundSelected:function(){},onFormInputSelected:function(){},onButtonSelected:function(){},onTextSelected:function(){},aspect_ratio:!0,hideFirstTextFormField:!1,hideSecondTextFormField:!1,hideThirdSecondTextFormField:!1,titleAlign:"right",bodyAlign:"center",footerAlign:"center",hideBody:!1,hideFooter:!1,hideTitle:!1,buttonHoverColor:"#520961"},e)}))});default:return x({},e)}}var M=Object(i.createContext)({loading_popup:!0}),q=Object(i.createContext)({}),G=Object(i.createContext)({});function J(e){var t=e.popup,o=e.formSubmitted,r=e.failedToSubmitted,i=Object(u.b)(t);return Object(n.jsxs)("div",x({className:i.root,onClick:function(){}},{children:[r&&Object(n.jsx)(h.a,x({className:i.title,style:{display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",height:"100%"}},{children:"Cannot save your response right now, Try again later!"}),void 0),o&&Object(n.jsx)(h.a,x({className:i.title,style:{display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",height:"100%"}},{children:"Successfully saved your response!"}),void 0)]}),void 0)}function D(e){var t=e.client_id,o=Object(i.useReducer)(U,{loading_popup:!0,popups:[]}),r=o[0],a=o[1],s=r.popup,l=r.form_submitted,d=r.error_loading_popup,c=r.error_submitting_popup,p=(r.loading_popup,Object(i.useState)()),f=p[0],h=p[1],D=Object(i.useRef)(!1),V=Object(i.useState)(0),K=V[0],Q=V[1],X=Object(i.useState)(0),Y=X[0],Z=X[1],$=Object(i.useState)([]),ee=$[0],te=$[1],oe=Object(i.useState)([]),re=oe[0],ne=oe[1],ie=Object(i.useCallback)((function(e,t,o){if(t){var r={};r.uid=f&&f.uid,r.first_name=e.target.first_name&&e.target.first_name.value,r.last_name=e.target.last_name&&e.target.last_name.value,r.email=e.target.email&&e.target.email.value,a({type:"submitting_form"}),(new b).submit_popup(r).then((function(e){D.current&&(b.hasError(e)?a({type:"error_submitting_popup",error:e.message}):a({type:"form_submitted"}))}))}else o&&(a({type:"submitting_form"}),(new b).perform_action(o).then((function(e){D.current&&(b.hasError(e)?a({type:"error_submitting_popup",error:e.message}):a({type:"form_submitted"}))})))}),[D,f]),ue=Object(i.useCallback)((function(){window.postMessage("close_popup","*")}),[]),ae=Object(i.useCallback)((function(){f&&(new b).popup_mark_shown({uid:f.uid}).then((function(e){}))}),[f]);return Object(g.a)((function(){if(r&&r.popups&&r.popups.length>0){for(var e=v([],ee),t=0;t<e.length;t++)for(var o=e[t],n=function(n){var i=r.popups[n];if(i&&!f&&!re.includes(i.uid))for(var u=0;u<i.triggers.length;u++){var s=i.triggers[u];if("idle"===s.type){if(s.delay_seconds<=K){if("string"==typeof i.data){var l=JSON.parse(i.data);a({type:"popup_loaded",popup:l}),h(i)}ne((function(e){return v(v([],e),[i.uid])})),Q(0);break}}else if(s.type===o.type&&Y-s.delay_seconds>=o.seconds){if("string"==typeof i.data){l=JSON.parse(i.data);a({type:"popup_loaded",popup:l}),h(i)}ne((function(e){return v(v([],e),[i.uid])}));var d=v([],e);d.splice(t,1),te(d);break}}},i=0;i<r.popups.length;i++)n(i);f||(Z((function(e){return e+1})),Q((function(e){return e+1})))}}),1e3,!1),Object(i.useEffect)((function(){if(!(f||Y<1))return-1===ee.findIndex((function(e){return"on-load"===e.type}))&&te((function(e){return v(v([],e),[{type:"on-load",seconds:Y}])})),document.body.addEventListener("mouseleave",t),window.addEventListener("scroll",e,{passive:!0}),window.addEventListener("keydown",o,{passive:!0}),function(){window.removeEventListener("scroll",e),window.removeEventListener("keydown",o),document.body.removeEventListener("mouseleave",t)};function e(e){var t,o,r,n,i,u;Q(0),-1===ee.findIndex((function(e){return"scroll-start"===e.type}))&&te((function(e){return v(v([],e),[{type:"scroll-start",seconds:Y}])})),t=document.body.parentNode,o=t.scrollHeight,r=.5*o-.5*t.clientHeight,n=r-.1*o,i=r+.1*o,(u=Math.round(t.scrollTop))>=n&&u<=i&&-1===ee.findIndex((function(e){return"scroll-middle"===e.type}))&&te((function(e){return v(v([],e),[{type:"scroll-middle",seconds:Y}])})),function(e){var t=document.body.parentNode,o=t.scrollHeight;Math.round(t.scrollTop)+t.clientHeight>=o-.1*o&&-1===ee.findIndex((function(e){return"scroll-end"===e.type}))&&te((function(e){return v(v([],e),[{type:"scroll-end",seconds:Y}])}))}()}function t(){-1===ee.findIndex((function(e){return"leaving"===e.type}))&&te((function(e){return v(v([],e),[{type:"leaving",seconds:Y}])}))}function o(){Q(0)}}),[Y,ee,f]),Object(i.useEffect)((function(){return D.current=!0,function(){D.current=!1}}),[]),Object(i.useEffect)((function(){a({type:"loading_popup"}),(new b).get_popups(t).then((function(e){D.current&&(b.hasError(e)?a({type:"error_loading_popup",error:e.message&&""!==e.message?e.message:"Error loading popup"}):e.popups&&a({type:"popups_loaded",popups:e.popups}))}))}),[t]),f?Object(n.jsx)("div",x({className:"ew-popup-css"},{children:Object(n.jsx)(q.Provider,x({value:a},{children:Object(n.jsx)(M.Provider,x({value:r},{children:Object(n.jsx)(G.Provider,x({value:{onPositiveButtonClicked:ie,onNegativeButtonClicked:ue,onPopupView:ae}},{children:s&&Object(n.jsx)("div",x({className:"popup-overlay",style:{justifyContent:"center"===s.popup_position||"top-middle"===s.popup_position||"bottom-middle"===s.popup_position?"center":"top-left"===s.popup_position||"middle-left"===s.popup_position||"bottom-left"===s.popup_position?"flex-start":"top-right"===s.popup_position||"middle-right"===s.popup_position||"bottom-right"===s.popup_position?"flex-end":"center",alignItems:"top-left"===s.popup_position||"top-middle"===s.popup_position||"top-right"===s.popup_position?"flex-start":"middle-left"===s.popup_position||"center"===s.popup_position||"middle-right"===s.popup_position?"center":"bottom-right"===s.popup_position||"bottom-middle"===s.popup_position||"bottom-left"===s.popup_position?"flex-end":"center"}},{children:Object(n.jsx)("div",x({className:"popup-wrapper",style:{background:!c&&l?"white":"transparent"}},{children:Object(n.jsxs)("div",{children:[!(d||!s)&&!c&&!l&&Object(n.jsx)(i.Suspense,x({fallback:Object(n.jsx)("div",{},void 0)},{children:Object(n.jsx)(m.a,{children:function(e){return Object(n.jsxs)(u.a.Provider,x({value:{isMobile:e.width<800}},{children:[s&&"1"===s.popup_id&&Object(n.jsx)(y,{},void 0),s&&"2"===s.popup_id&&Object(n.jsx)(_,{},void 0),s&&"3"===s.popup_id&&Object(n.jsx)(C,{},void 0),s&&"4"===s.popup_id&&Object(n.jsx)(j,{},void 0),s&&"5"===s.popup_id&&Object(n.jsx)(T,{},void 0),s&&"6"===s.popup_id&&Object(n.jsx)(w,{},void 0),s&&"7"===s.popup_id&&Object(n.jsx)(F,{},void 0),s&&"8"===s.popup_id&&Object(n.jsx)(S,{},void 0),s&&"9"===s.popup_id&&Object(n.jsx)(k,{},void 0),s&&"10"===s.popup_id&&Object(n.jsx)(O,{},void 0),s&&"11"===s.popup_id&&Object(n.jsx)(B,{},void 0),s&&"12"===s.popup_id&&Object(n.jsx)(P,{},void 0),s&&"13"===s.popup_id&&Object(n.jsx)(z,{},void 0),s&&"14"===s.popup_id&&Object(n.jsx)(A,{},void 0),s&&"15"===s.popup_id&&Object(n.jsx)(R,{},void 0),s&&"16"===s.popup_id&&Object(n.jsx)(E,{},void 0),s&&"17"===s.popup_id&&Object(n.jsx)(N,{},void 0),s&&"18"===s.popup_id&&Object(n.jsx)(H,{},void 0),s&&"19"===s.popup_id&&Object(n.jsx)(I,{},void 0),s&&"20"===s.popup_id&&Object(n.jsx)(L,{},void 0),s&&"21"===s.popup_id&&Object(n.jsx)(W,{},void 0)]}),void 0)}},void 0)}),void 0),s&&(c||l)&&Object(n.jsx)(J,{popup:s,failedToSubmitted:!!c,formSubmitted:!!l},void 0),Object(n.jsx)("button",x({className:"popup-close-btn",onClick:function(){h(void 0)}},{children:" ✕"}),void 0)]},void 0)}),void 0)}),void 0)}),void 0)}),void 0)}),void 0)}),void 0):null}}}]);